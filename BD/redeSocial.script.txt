CREATE TABLE USUARIOS ( 
    ID_USUARIO NUMBER(10) NOT NULL,
    DSC_USUARIO VARCHAR2(100) NOT NULL,
    NICK_NAME VARCHAR2(20) NOT NULL,
    SEXO CHAR(1) NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL,
    DT_NASC DATE NOT NULL,
    CONSTRAINT PK_USUARIO PRIMARY KEY(ID_USUARIO)
);


CREATE TABLE POSTS ( 
    ID_POST NUMBER(10) NOT NULL,
    ID_USUARIO NUMBER(10) NOT NULL,
    TEXTO CLOB NOT NULL,
    MIDIA BLOB NOT NULL,
    DH_POST DATE NOT NULL,
    STATUS CHAR(1) NOT NULL,
    DH_STATUS DATE NOT NULL,
    CONSTRAINT PK_POST PRIMARY KEY(ID_POST) 
);


CREATE TABLE REACAO ( 
    ID_USUARIO NUMBER(10) NOT NULL,
    ID_POST NUMBER(10) NOT NULL,
    DH_REACAO DATE NOT NULL,
    TIP_REACAO CHAR(1) NOT NULL,
    CONSTRAINT PK_USUARIO_POST_REACAO PRIMARY KEY(TIP_REACAO, ID_USUARIO, ID_POST)
);

ALTER TABLE POSTS ADD CONSTRAINT FK_USUARIO_POST FOREIGN KEY (ID_USUARIO) REFERENCING USUARIOS (ID_USUARIO);

ALTER TABLE REACAO ADD CONSTRAINT FK_USUARIO_REACAO FOREIGN KEY (ID_USUARIO) REFERENCING USUARIOS (ID_USUARIO);

ALTER TABLE REACAO ADD CONSTRAINT FK_POST_REACAO FOREIGN KEY (ID_POST) REFERENCING POSTS (ID_POST);
